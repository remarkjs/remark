{
  "type": "root",
  "children": [
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Characters that should be escaped in general:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "\\"
        },
        {
          "type": "text",
          "value": " "
        },
        {
          "type": "text",
          "value": "`"
        },
        {
          "type": "text",
          "value": " "
        },
        {
          "type": "text",
          "value": "*"
        },
        {
          "type": "text",
          "value": " "
        },
        {
          "type": "text",
          "value": "["
        },
        {
          "type": "text",
          "value": " "
        },
        {
          "type": "text",
          "value": "_"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Characters that shouldn't:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "{}]()#+-.!>\"$%',/:;=?@^~"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Underscores are always "
        },
        {
          "type": "text",
          "value": "_"
        },
        {
          "type": "text",
          "value": "escaped"
        },
        {
          "type": "text",
          "value": "_"
        },
        {
          "type": "text",
          "value": ", even when they appear in"
        },
        {
          "type": "text",
          "value": "_"
        },
        {
          "type": "text",
          "value": "the"
        },
        {
          "type": "text",
          "value": "_"
        },
        {
          "type": "text",
          "value": "middle"
        },
        {
          "type": "text",
          "value": "_"
        },
        {
          "type": "text",
          "value": "of"
        },
        {
          "type": "text",
          "value": "_"
        },
        {
          "type": "text",
          "value": "a"
        },
        {
          "type": "text",
          "value": "_"
        },
        {
          "type": "text",
          "value": "word."
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Ampersands are escaped only when they would otherwise start an entity:"
        }
      ]
    },
    {
      "type": "list",
      "ordered": false,
      "start": null,
      "loose": false,
      "children": [
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "text",
                  "value": "&"
                },
                {
                  "type": "text",
                  "value": "copycat "
                },
                {
                  "type": "text",
                  "value": "&"
                },
                {
                  "type": "text",
                  "value": "amp; "
                },
                {
                  "type": "text",
                  "value": "&"
                },
                {
                  "type": "text",
                  "value": "#x26"
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "text",
                  "value": "But: Â©cat; "
                },
                {
                  "type": "inlineCode",
                  "value": "&between;"
                },
                {
                  "type": "text",
                  "value": " &foo; & AT&T &c"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Open parenthesis should be escaped after a shortcut reference:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "linkReference",
          "identifier": "ref",
          "referenceType": "shortcut",
          "children": [
            {
              "type": "text",
              "value": "ref"
            }
          ]
        },
        {
          "type": "text",
          "value": "("
        },
        {
          "type": "text",
          "value": "text)"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "And after a shortcut reference and a space (for GitHub):"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "linkReference",
          "identifier": "ref",
          "referenceType": "shortcut",
          "children": [
            {
              "type": "text",
              "value": "ref"
            }
          ]
        },
        {
          "type": "text",
          "value": " "
        },
        {
          "type": "text",
          "value": "("
        },
        {
          "type": "text",
          "value": "text)"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Hyphen should be escaped at the beginning of a line:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "-"
        },
        {
          "type": "text",
          "value": " not a list item\n"
        },
        {
          "type": "text",
          "value": "-"
        },
        {
          "type": "text",
          "value": " not a list item\n  "
        },
        {
          "type": "text",
          "value": "+"
        },
        {
          "type": "text",
          "value": " not a list item"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Same for angle brackets:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": ">"
        },
        {
          "type": "text",
          "value": " not a block quote"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "And hash signs:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "#"
        },
        {
          "type": "text",
          "value": " not a heading\n  "
        },
        {
          "type": "text",
          "value": "#"
        },
        {
          "type": "text",
          "value": "# not a subheading"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Text under a shortcut reference should be preserved verbatim:"
        }
      ]
    },
    {
      "type": "list",
      "ordered": false,
      "start": null,
      "loose": false,
      "children": [
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "linkReference",
                  "identifier": "two*three",
                  "referenceType": "shortcut",
                  "children": [
                    {
                      "type": "text",
                      "value": "two*three"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "linkReference",
                  "identifier": "two\\*three",
                  "referenceType": "shortcut",
                  "children": [
                    {
                      "type": "text",
                      "value": "two"
                    },
                    {
                      "type": "text",
                      "value": "*"
                    },
                    {
                      "type": "text",
                      "value": "three"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "linkReference",
                  "identifier": "a\\a",
                  "referenceType": "shortcut",
                  "children": [
                    {
                      "type": "text",
                      "value": "a\\a"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "linkReference",
                  "identifier": "a\\\\a",
                  "referenceType": "shortcut",
                  "children": [
                    {
                      "type": "text",
                      "value": "a"
                    },
                    {
                      "type": "text",
                      "value": "\\"
                    },
                    {
                      "type": "text",
                      "value": "a"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "linkReference",
                  "identifier": "a\\\\\\a",
                  "referenceType": "shortcut",
                  "children": [
                    {
                      "type": "text",
                      "value": "a"
                    },
                    {
                      "type": "text",
                      "value": "\\"
                    },
                    {
                      "type": "text",
                      "value": "\\a"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "linkReference",
                  "identifier": "a_a\\_a",
                  "referenceType": "shortcut",
                  "children": [
                    {
                      "type": "text",
                      "value": "a"
                    },
                    {
                      "type": "emphasis",
                      "children": [
                        {
                          "type": "text",
                          "value": "a\\"
                        }
                      ]
                    },
                    {
                      "type": "text",
                      "value": "a"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "strong",
          "children": [
            {
              "type": "text",
              "value": "GFM:"
            }
          ]
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Colon should be escaped in URLs:"
        }
      ]
    },
    {
      "type": "list",
      "ordered": false,
      "start": null,
      "loose": false,
      "children": [
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "text",
                  "value": "http"
                },
                {
                  "type": "text",
                  "value": ":"
                },
                {
                  "type": "text",
                  "value": "//user:password@host:port/path?key=value#fragment"
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "text",
                  "value": "https"
                },
                {
                  "type": "text",
                  "value": ":"
                },
                {
                  "type": "text",
                  "value": "//user:password@host:port/path?key=value#fragment"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Double tildes should be "
        },
        {
          "type": "text",
          "value": "~"
        },
        {
          "type": "text",
          "value": "~escaped"
        },
        {
          "type": "text",
          "value": "~"
        },
        {
          "type": "text",
          "value": "~.\nAnd here: foo"
        },
        {
          "type": "text",
          "value": "~"
        },
        {
          "type": "text",
          "value": "~."
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Pipes should not be escaped here: |"
        }
      ]
    },
    {
      "type": "table",
      "align": [
        null,
        null
      ],
      "children": [
        {
          "type": "tableRow",
          "children": [
            {
              "type": "tableCell",
              "children": [
                {
                  "type": "text",
                  "value": "here"
                }
              ]
            },
            {
              "type": "tableCell",
              "children": [
                {
                  "type": "text",
                  "value": "they"
                }
              ]
            }
          ]
        },
        {
          "type": "tableRow",
          "children": [
            {
              "type": "tableCell",
              "children": [
                {
                  "type": "text",
                  "value": "should"
                }
              ]
            },
            {
              "type": "tableCell",
              "children": [
                {
                  "type": "text",
                  "value": "tho"
                },
                {
                  "type": "text",
                  "value": "|"
                },
                {
                  "type": "text",
                  "value": "ugh"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "And here:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "| here   | they   |\n"
        },
        {
          "type": "text",
          "value": "|"
        },
        {
          "type": "text",
          "value": " ---- "
        },
        {
          "type": "text",
          "value": "|"
        },
        {
          "type": "text",
          "value": " ----- "
        },
        {
          "type": "text",
          "value": "|"
        },
        {
          "type": "text",
          "value": "\n| should | though |"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "And here:"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "here   | they\n"
        },
        {
          "type": "text",
          "value": "-"
        },
        {
          "type": "text",
          "value": "--- "
        },
        {
          "type": "text",
          "value": "|"
        },
        {
          "type": "text",
          "value": " ------\nshould | though"
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "strong",
          "children": [
            {
              "type": "text",
              "value": "Commonmark:"
            }
          ]
        }
      ]
    },
    {
      "type": "paragraph",
      "children": [
        {
          "type": "text",
          "value": "Open angle bracket should be escaped:"
        }
      ]
    },
    {
      "type": "list",
      "ordered": false,
      "start": null,
      "loose": false,
      "children": [
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "text",
                  "value": "<"
                },
                {
                  "type": "text",
                  "value": "div>"
                },
                {
                  "type": "text",
                  "value": "<"
                },
                {
                  "type": "text",
                  "value": "/div>"
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "loose": false,
          "checked": null,
          "children": [
            {
              "type": "paragraph",
              "children": [
                {
                  "type": "text",
                  "value": "<"
                },
                {
                  "type": "text",
                  "value": "http"
                },
                {
                  "type": "text",
                  "value": ":"
                },
                {
                  "type": "text",
                  "value": "google.com>"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
